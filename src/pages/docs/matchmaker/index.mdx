import { faMagnifyingGlass, faList, faCode, faFilePen } from '@fortawesome/sharp-solid-svg-icons';

# Matchmaker

<Summary>Flexible matchmaker for placing players in lobbies with no wait times.</Summary>

The Rivet Matchmaker is a casual matchmaker optimized to get your player connected to your game server in under a second in the optimal region & lobby.

## Configuration

See the [rivet.yaml reference](/docs/general/config#matchmaker) for the full list of matchmaker configuration options.

## Integration

To integrate your servers to the Rivet Matchmaker system, you need to call these three endpoints in your server code.

- **[matchmaker.lobbies.ready](/docs/matchmaker/api/lobbies/ready)**: Notifies the matchmaker that the server is ready to accept players
- **[matchmaker.players.connected](/docs/matchmaker/api/players/connected)**: Notifies the matchmaker of a player connection while confirming the connection’s legitimacy
- **[matchmaker.players.disconnected](/docs/matchmaker/api/players/disconnected)**: Notifies the matchmaker of a player disconnection

And don't worry about notifying the matchmaker if your lobby closes or crashes, that gets taken internally by the Dynamic Server system. Although if you want to manually tell the matchmaker to stop letting in new players, you can call the **[matchmaker.lobbies.setClosed](/docs/matchmaker/api/lobbies/set-closed)** endpoint.

## Connecting to lobbies

Once integrated, you can call the following endpoints to find and join available lobbies in your client code.

- **[matchmaker.lobbies.find](/docs/matchmaker/api/lobbies/find)**: Finds an available lobby and grants a player token to connect
- **[matchmaker.lobbies.join](/docs/matchmaker/api/lobbies/join)**: Given a lobby’s id, grants a player token to be used for connection

If you want the client to be able to create a whole new lobby (for things like private games), you can also use the **[matchmaker.lobbies.create](/docs/matchmaker/api/lobbies/create)** endpoint.

## Getting other lobby info

Additionally, you can make use of these endpoints to get more information about your game’s lobbies.

- **[matchmaker.regions.list](/docs/matchmaker/api/regions/list)**: Returns listing of all regions available in game
- **[matchmaker.lobbies.list](/docs/matchmaker/api/lobbies/list)**: Returns listing of all the lobbies linked to the matchmaker
- **[matchmaker.players.getStatistics](/docs/matchmaker/api/players/get-statistics)**: Returns player count statistics by region and game mode

The Rivet Matchmaker is tightly integrated with Dynamic Servers to automatically boot lobbies on-demand when players need them. Read more about how Rivet Dynamic Servers operates your game servers [here](/docs/dynamic-servers/index).

<ResourceGroup>
  <Resource
    title='rivet.yaml Reference'
    icon={faFilePen}
    href='/docs/general/config#matchmaker'
  />
  <Resource
    title='How the matchmaker chooses lobbies'
    icon={faMagnifyingGlass}
    href='/docs/matchmaker/concepts/finding-lobby'
  />
  <Resource title='Lobby environment variables' icon={faList} href='/docs/matchmaker/concepts/lobby-env' />
  <Resource title='matchmaker.lobbies.find' icon={faCode} href='/docs/matchmaker/api/lobbies/find' />
  <Resource
    title='matchmaker.players.connected'
    icon={faCode}
    href='/docs/matchmaker/api/players/connected'
  />
  <Resource
    title='matchmaker.players.disconnected'
    icon={faCode}
    href='/docs/matchmaker/api/players/disconnected'
  />
  <Resource title='matchmaker.lobbies.ready' icon={faCode} href='/docs/matchmaker/api/lobbies/ready' />
</ResourceGroup>
